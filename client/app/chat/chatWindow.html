<template name="chatWindow">
	<div class="chatWindow" id="{{_id.toHextString}}">
		<div class="header">
			{{#if __sidebarIcon}}<img class="profilePicture" src="{{__sidebarIcon}}" width="40">{{/if}}
			<div class="name">{{__friendlyName}}</div>
			<i class="fa fa-times"></i>
		</div>
		<div class="messages sticky">
			{{#each __messages}}
				{{> messageRow}}
			{{/each}}
		</div>
		<div class="footer">
			<input type="text" class="messageInput" placeholder="Typ bericht, Enter om te versturen." autofocus/>
		</div>
	</div>
</template>

<template name="messageRow">
	<div class="message {{__own}}"> {{! we will purely use the __own class to style the message (change the color and location of the image and stuff.}}
		{{#linkTo route="personView" data=__sender}}
			<img class="senderImage" src="{{gravatar __sender 100}}" width="25" height="25" title="{{__time}}: {{__sender.profile.firstName}} {{__sender.profile.lastName}}" data-toggle="tooltip"/>
		{{/linkTo}}
		<div class="messageContent">{{#markdown}}{{#emojione}}{{content}}{{/emojione}}{{/markdown}}</div>
	</div>
</template>
