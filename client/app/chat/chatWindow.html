<template name="stashedFile">
	<div class="stashedFile">
		{{name}}
		<i class="fa fa-times" data-action="deleteFile"></i>
	</div>
</template>

<template name="mobileChatWindow">
	<div class="mobileChatWindow {{__status}}" id="{{_id.toHextString}}" style="bottom: {{bottomOffset}}">
		<div class="header">
			{{#if __sidebarIcon}}<img class="profilePicture" src="{{__sidebarIcon}}" width="40">{{/if}}
			<div class="name">{{__friendlyName}}</div>
		</div>
		<div class="messages sticky">
			{{#each __messages}}
				{{> messageRow}}
			{{/each}}
		</div>
		<div class="footer">
			<input type="text" class="messageInput" autofocus/>
		</div>
	</div>
</template>

<template name="messageRow">
	<div class="message {{__own}}"> {{! we will purely use the __own class to style the message (change the color and location of the image and stuff.}}
		<aside>
			{{#if __changedOn}}
				<div class="edited" title="Bewerkt op {{__changedOn}}" data-toggle="tooltip">
					<i class="fa fa-pencil"></i>
				</div>
			{{/if}}
			<div class="time">{{__time}}</div>
		</aside>
		{{#linkTo route="personView" data=__sender}}
			<img class="senderImage" src="{{gravatar __sender 100}}" width="25" height="25" title="{{__sender.profile.firstName}} {{__sender.profile.lastName}}" data-toggle="tooltip"/>
		{{/linkTo}}
		<div class="messageContent">{{#mathjax}}{{#markdown}}{{#emojione}}{{content}}{{/emojione}}{{/markdown}}{{/mathjax}}</div>
	</div>
</template>
